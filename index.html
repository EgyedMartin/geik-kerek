<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G√âIK Ny√≠lt Nap Kih√≠v√°s</title>
  <style>
    body {
      font-family: sans-serif;
      background: #0f172a;
      color: white;
      text-align: center;
      margin: 0;
      padding: 10px;
    }
    .container { max-width: 450px; margin: 0 auto; }
    canvas {
      background: white;
      border-radius: 50%;
      margin: 20px 0;
      max-width: 100%;
      height: auto;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    button#spin-btn {
      background: #22c55e;
      border: none;
      padding: 15px 30px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 30px;
      color: white;
      cursor: pointer;
    }
    button:disabled { background: #475569; }
    
    /* Felugr√≥ ablak */
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.95);
      z-index: 1000;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    #question-card {
      background: #1e293b;
      padding: 20px;
      border-radius: 15px;
      border: 2px solid #38bdf8;
      width: 85%;
      max-width: 350px;
    }
    .options-grid { display: grid; gap: 10px; margin-top: 15px; }
    .option-btn {
      background: #334155;
      border: 1px solid #475569;
      color: white;
      padding: 12px;
      border-radius: 8px;
      font-size: 15px;
      cursor: pointer;
    }
    .option-btn:active { background: #38bdf8; }
    .progress { color: #fbbf24; font-weight: bold; margin-bottom: 10px; }
  </style>
</head>
<body>

  <div class="container">
    <h2 style="margin-top:10px;">üéì G√âIK Kih√≠v√°s</h2>
    <p>3 k√©rd√©s = 1 v√°laszthat√≥ aj√°nd√©k!</p>

    <canvas id="wheel" width="400" height="400"></canvas>

    <div>
      <button id="spin-btn" onclick="spin()">üé° P√ñRGET√âS</button>
    </div>
    <p id="status" style="color:#38bdf8; font-weight:bold;"></p>
  </div>

  <div id="modal-overlay">
    <div id="question-card">
      <div id="progress" class="progress">K√©rd√©s: 1 / 3</div>
      <p id="m-quest" style="font-size: 18px; font-weight: bold;"></p>
      <div class="options-grid" id="m-opts"></div>
    </div>
  </div>

<script>
  // Be√°ll√≠t√°sok
  const options = ["üß† Logika", "‚ûï Matek", "üíª Inf√≥", "‚öôÔ∏è G√©p√©sz", "üòÑ Fun", "üî• Extra", "‚ö° Vill√°m", "üõ†Ô∏è Technika"];
  const prizes = ["Leh√∫z√≥", "Notesz", "S√∂rbont√≥", "G√âIK-es Toll", "Es≈ëkab√°t", "Sz√∂vegkiemel≈ë", "Tornazs√°k"];

  const questions = {
    "üß† Logika": [
      { q: "Melyik sz√°m j√∂n: 2, 4, 8, 16... ?", o: ["24", "30", "32", "64"], a: 2 },
      { q: "Melyik nem hardver?", o: ["Eg√©r", "Monitor", "Windows", "RAM"], a: 2 },
      { q: "H√°ny oldala van egy kock√°nak?", o: ["4", "6", "8", "12"], a: 1 }
    ],
    "‚ûï Matek": [
      { q: "Mennyi 15 x 4?", o: ["50", "60", "70", "45"], a: 1 },
      { q: "Mennyi 100 gy√∂ke?", o: ["10", "20", "50", "5"], a: 0 },
      { q: "Mennyi 3 a n√©gyzeten?", o: ["6", "9", "12", "3"], a: 1 }
    ],
    "üíª Inf√≥": [
      { q: "Mit jelent a CPU?", o: ["Processzor", "Mem√≥ria", "Monitor", "Eg√©r"], a: 0 },
      { q: "Melyik programnyelv?", o: ["HTML", "Python", "JPG", "MP3"], a: 1 },
      { q: "H√°ny bit 1 byte?", o: ["4", "8", "16", "32"], a: 1 }
    ],
    "‚öôÔ∏è G√©p√©sz": [
      { q: "Melyik f√©m?", o: ["Fa", "M≈±anyag", "R√©z", "√úveg"], a: 2 },
      { q: "Mi cs√∂kkenti a s√∫rl√≥d√°st?", o: ["V√≠z", "Olaj", "Por", "Gumi"], a: 1 },
      { q: "Melyik kem√©nyebb?", o: ["Arany", "Ac√©l", "√ìlom", "R√©z"], a: 1 }
    ],
    "üòÑ Fun": [
      { q: "Mi kell a vizsg√°hoz?", o: ["Tud√°s", "Szerencse", "K√°v√©", "Mindh√°rom"], a: 3 },
      { q: "Hol van a G√âIK?", o: ["Miskolc", "P√©cs", "Gy≈ër", "Szeged"], a: 0 },
      { q: "Ki a hallgat√≥ bar√°tja?", o: ["D√©k√°n", "K√°v√©automata", "H√©tf≈ë", "Szomsz√©d"], a: 1 }
    ],
    "üî• Extra": [
      { q: "Mennyi 2^3?", o: ["6", "8", "9", "4"], a: 1 },
      { q: "Mi a p√≠ (œÄ) eleje?", o: ["3,12", "3,14", "3,16", "3,10"], a: 1 },
      { q: "Pr√≠msz√°m-e a 7?", o: ["Igen", "Nem", "Csak kedden", "Nem tudom"], a: 0 }
    ],
    "‚ö° Vill√°m": [
      { q: "√âvszak most?", o: ["Tavasz", "Ny√°r", "≈êsz", "T√©l"], a: 3 },
      { q: "Miskolci Egyetem sz√≠ne?", o: ["Piros", "K√©k-feh√©r", "Z√∂ld", "S√°rga"], a: 1 },
      { q: "Mi a v√≠z?", o: ["H2O", "CO2", "O2", "NaCl"], a: 0 }
    ],
    "üõ†Ô∏è Technika": [
      { q: "Mivel m√©r√ºnk ampert?", o: ["M√©r≈ëszalag", "Amperm√©r≈ë", "H≈ëm√©r≈ë", "M√©rleg"], a: 1 },
      { q: "USB jelent√©se?", o: ["Universal Bus", "Unit Base", "Ultra Speed", "User Board"], a: 0 },
      { q: "H√°ny kereke van egy aut√≥nak?", o: ["2", "4", "6", "3"], a: 1 }
    ]
  };

  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinBtn = document.getElementById("spin-btn");
  let angle = 0;
  let spinning = false;
  let currentStep = 0;
  let currentCat = "";

  function draw() {
    const slice = (Math.PI * 2) / options.length;
    ctx.clearRect(0, 0, 400, 400);
    options.forEach((text, i) => {
      ctx.beginPath();
      ctx.moveTo(200, 200);
      ctx.arc(200, 200, 190, angle + i * slice, angle + (i + 1) * slice);
      ctx.fillStyle = i % 2 === 0 ? "#38bdf8" : "#fbbf24";
      ctx.fill();
      ctx.stroke();
      ctx.save();
      ctx.translate(200, 200);
      ctx.rotate(angle + i * slice + slice / 2);
      ctx.fillStyle = "#000";
      ctx.font = "bold 14px Arial";
      ctx.fillText(text, 100, 5);
      ctx.restore();
    });
    // Ny√≠l
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.moveTo(185, 10); ctx.lineTo(215, 10); ctx.lineTo(200, 40);
    ctx.fill();
  }

  function spin() {
    if (spinning) return;
    spinning = true;
    spinBtn.disabled = true;
    let speed = Math.random() * 0.3 + 0.3;
    function anim() {
      angle += speed;
      speed *= 0.985;
      draw();
      if (speed > 0.002) requestAnimationFrame(anim);
      else {
        spinning = false;
        setTimeout(getResult, 500);
      }
    }
    anim();
  }

  function getResult() {
    const slice = (Math.PI * 2) / options.length;
    const norm = (1.5 * Math.PI - angle) % (Math.PI * 2);
    const idx = Math.floor((norm < 0 ? norm + Math.PI * 2 : norm) / slice);
    currentCat = options[idx];
    currentStep = 0;
    showModal();
  }

  function showModal() {
    document.getElementById("modal-overlay").style.display = "flex";
    const qData = questions[currentCat][currentStep];
    document.getElementById("progress").innerText = "K√©rd√©s: " + (currentStep + 1) + " / 3";
    document.getElementById("m-quest").innerText = qData.q;
    const container = document.getElementById("m-opts");
    container.innerHTML = "";
    qData.o.forEach((opt, i) => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.innerText = opt;
      btn.onclick = () => {
        if (i === qData.a) {
          currentStep++;
          if (currentStep < 3) showModal();
          else showPrizes();
        } else {
          alert("Sajnos hib√°zt√°l! Kezdd √∫jra a p√∂rget√©st.");
          closeModal();
        }
      };
      container.appendChild(btn);
    });
  }

  function showPrizes() {
    document.getElementById("progress").innerText = "üéØ GRATUL√ÅLUNK! 3/3";
    document.getElementById("m-quest").innerText = "V√°lassz egy aj√°nd√©kot:";
    const container = document.getElementById("m-opts");
    container.innerHTML = "";
    prizes.forEach(p => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.style.background = "#22c55e";
      btn.innerText = p;
      btn.onclick = () => {
        alert("Nyerem√©nyed: " + p + ". Mutasd fel ezt a k√©perny≈ët a standn√°l!");
        closeModal();
      };
      container.appendChild(btn);
    });
  }

  function closeModal() {
    document.getElementById("modal-overlay").style.display = "none";
    spinBtn.disabled = false;
  }

  window.onload = draw;
</script>
</body>
</html>
