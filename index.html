<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G√âIK Ny√≠lt Nap ‚Äì Szerencseker√©k</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      color: white;
      text-align: center;
      padding: 20px;
      margin: 0;
    }

    .container { max-width: 500px; margin: 0 auto; }

    canvas {
      background: white;
      border-radius: 50%;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6);
      margin: 20px 0;
      max-width: 100%;
      height: auto;
    }

    button#spin-btn {
      background: #22c55e;
      border: none;
      padding: 16px 32px;
      font-size: 20px;
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      color: white;
      transition: 0.3s;
    }

    button#spin-btn:disabled { background: #475569; }

    /* Modal / K√©rd√©s ablak */
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    #question-card {
      background: #1e293b;
      padding: 25px;
      border-radius: 20px;
      border: 2px solid #38bdf8;
      width: 90%;
      max-width: 400px;
    }

    .options-grid {
      display: grid;
      gap: 10px;
      margin-top: 20px;
    }

    .option-btn {
      background: #334155;
      border: 1px solid #475569;
      color: white;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
    }

    .option-btn:hover { background: #38bdf8; color: #0f172a; }

    footer { opacity: 0.5; font-size: 12px; margin-top: 30px; }
  </style>
</head>
<body>

  <div class="container">
    <h1>üéì G√âIK Ny√≠lt Nap</h1>
    <p>P√∂rgess a f≈ënyerem√©ny√©rt!</p>

    <canvas id="wheel" width="400" height="400"></canvas>

    <div>
      <button id="spin-btn" onclick="spin()">üé° P√ñRGET√âS</button>
    </div>

    <div id="status" style="margin-top:15px; color: #38bdf8; font-weight: bold;"></div>

    <footer>Miskolci Egyetem - G√âIK</footer>
  </div>

  <div id="modal-overlay">
    <div id="question-card">
      <h3 id="m-cat" style="color: #fbbf24; margin: 0 0 10px 0;"></h3>
      <p id="m-quest" style="font-size: 18px;"></p>
      <div class="options-grid" id="m-opts"></div>
    </div>
  </div>

<script>
  const options = ["üß† Logika", "‚ûï Matek", "üíª Inf√≥", "‚öôÔ∏è G√©p√©sz", "üòÑ Fun", "üî• Extra", "‚ö° Vill√°m", "üéÅ M√ÅZLI"];
  
  const questions = {
    "üß† Logika": [{ q: "Melyik sz√°m j√∂n a sorban? 3, 6, 12, 24, ...", o: ["36", "48", "42", "60"], a: 1 }],
    "‚ûï Matek": [{ q: "Mennyi 12 x 5?", o: ["50", "60", "70", "55"], a: 1 }],
    "üíª Inf√≥": [{ q: "Mit jelent a CPU?", o: ["Central Processing Unit", "Computer Power", "Core Processor", "Control Unit"], a: 0 }],
    "‚öôÔ∏è G√©p√©sz": [{ q: "Melyik az er≈ësebb anyag?", o: ["Fa", "R√©z", "Ac√©l", "Alum√≠nium"], a: 2 }],
    "üòÑ Fun": [{ q: "Mi kell a m√©rn√∂knek a t√∫l√©l√©shez?", o: ["Alv√°s", "K√°v√©", "V√≠z", "Z√∂ld tea"], a: 1 }],
    "üî• Extra": [{ q: "Mennyi 2 a harmadikon + 3 a n√©gyzeten?", o: ["12", "15", "17", "21"], a: 2 }],
    "‚ö° Vill√°m": [{ q: "H√°ny bites 1 byte?", o: ["4", "8", "16", "32"], a: 1 }]
  };

  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinBtn = document.getElementById("spin-btn");
  const center = 200;
  const radius = 185;
  let angle = 0;
  let spinning = false;

  function draw() {
    const slice = (Math.PI * 2) / options.length;
    ctx.clearRect(0, 0, 400, 400);

    options.forEach((text, i) => {
      ctx.beginPath();
      ctx.moveTo(center, center);
      ctx.arc(center, center, radius, angle + i * slice, angle + (i + 1) * slice);
      ctx.fillStyle = i % 2 === 0 ? "#38bdf8" : "#fbbf24";
      ctx.fill();
      ctx.stroke();

      ctx.save();
      ctx.translate(center, center);
      ctx.rotate(angle + i * slice + slice / 2);
      ctx.textAlign = "right";
      ctx.fillStyle = "#000";
      ctx.font = "bold 14px Arial";
      ctx.fillText(text, radius - 10, 5);
      ctx.restore();
    });

    // Ny√≠l
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.moveTo(center - 15, 5); ctx.lineTo(center + 15, 5); ctx.lineTo(center, 35);
    ctx.fill();
  }

  function spin() {
    if (spinning) return;
    spinning = true;
    spinBtn.disabled = true;
    let speed = Math.random() * 0.3 + 0.3;
    
    function anim() {
      angle += speed;
      speed *= 0.985;
      draw();
      if (speed > 0.002) requestAnimationFrame(anim);
      else {
        spinning = false;
        finish();
      }
    }
    anim();
  }

  function finish() {
    const slice = (Math.PI * 2) / options.length;
    const normAngle = (1.5 * Math.PI - angle) % (Math.PI * 2);
    const idx = Math.floor((normAngle < 0 ? normAngle + Math.PI * 2 : normAngle) / slice);
    const cat = options[idx];

    if (cat === "üéÅ M√ÅZLI") {
      alert("üéâ GRATUL√ÅLUNK! Automatikus nyerem√©ny: TORNAZS√ÅK! üéí");
      spinBtn.disabled = false;
      return;
    }

    const qData = questions[cat][0];
    document.getElementById("m-cat").innerText = cat;
    document.getElementById("m-quest").innerText = qData.q;
    const container = document.getElementById("m-opts");
    container.innerHTML = "";

    qData.o.forEach((opt, i) => {
      const b = document.createElement("button");
      b.className = "option-btn";
      b.innerText = opt;
      b.onclick = () => {
        document.getElementById("modal-overlay").style.display = "none";
        if (i === qData.a) {
          alert("‚úÖ HELYES! Nyerem√©nyed egy G√âIK-es TORNAZS√ÅK! üéí");
        } else {
          alert("‚ùå Majdnem! De ne cs√ºggedj, kapsz egy G√âIK-es TOLLAT! üñäÔ∏è");
        }
        spinBtn.disabled = false;
      };
      container.appendChild(b);
    });
    document.getElementById("modal-overlay").style.display = "flex";
  }

  draw();
</script
