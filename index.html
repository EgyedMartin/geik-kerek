<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G√âIK Ny√≠lt Nap ‚Äì 3 K√©rd√©ses Kih√≠v√°s</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      color: white;
      text-align: center;
      padding: 10px;
      margin: 0;
    }

    .container { max-width: 500px; margin: 0 auto; }

    canvas {
      background: white;
      border-radius: 50%;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6);
      margin: 20px 0;
      max-width: 90%;
      height: auto;
    }

    button#spin-btn {
      background: #22c55e;
      border: none;
      padding: 16px 32px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      color: white;
      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
    }

    button#spin-btn:disabled { background: #475569; opacity: 0.7; }

    /* Modal / K√©rd√©s ablak */
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.95);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    #question-card {
      background: #1e293b;
      padding: 25px;
      border-radius: 20px;
      border: 2px solid #38bdf8;
      width: 90%;
      max-width: 400px;
    }

    .options-grid {
      display: grid;
      gap: 10px;
      margin-top: 20px;
    }

    .option-btn, .prize-btn {
      background: #334155;
      border: 1px solid #475569;
      color: white;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.2s;
    }

    .option-btn:hover, .prize-btn:hover { background: #38bdf8; color: #0f172a; font-weight: bold; }

    .progress-dots { margin-bottom: 15px; font-weight: bold; color: #fbbf24; }

    footer { opacity: 0.5; font-size: 12px; margin-top: 30px; }
  </style>
</head>
<body>

  <div class="container">
    <h1>üéì G√âIK Kih√≠v√°s</h1>
    <p>V√°laszolj <b>3 k√©rd√©sre</b> helyesen √©s <br>v√°lassz egy aj√°nd√©kot!</p>

    <canvas id="wheel" width="400" height="400"></canvas>

    <div>
      <button id="spin-btn" onclick="spin()">üé° P√ñRGET√âS</button>
    </div>

    <div id="status" style="margin-top:15px; color: #38bdf8; font-weight: bold; min-height: 24px;"></div>

    <footer>Miskolci Egyetem - G√©p√©szm√©rn√∂ki √©s Informatikai Kar</footer>
  </div>

  <div id="modal-overlay">
    <div id="question-card">
      <div id="progress" class="progress-dots">K√©rd√©s: 1 / 3</div>
      <h3 id="m-cat" style="color: #38bdf8; margin: 0 0 10px 0; font-size: 16px; text-transform: uppercase;"></h3>
      <p id="m-quest" style="font-size: 18px; min-height: 60px;"></p>
      <div class="options-grid" id="m-opts"></div>
    </div>
  </div>

<script>
  const options = ["üß† Logika", "‚ûï Matek", "üíª Inf√≥", "‚öôÔ∏è G√©p√©sz", "üòÑ Fun", "üî• Extra", "‚ö° Vill√°m", "üõ†Ô∏è Technika"];
  
  const prizes = ["Leh√∫z√≥", "Notesz", "S√∂rbont√≥", "G√âIK-es Toll", "Es≈ëkab√°t", "Sz√∂vegkiemel≈ë", "Tornazs√°k"];

  const questions = {
    "üß† Logika": [
      { q: "Melyik sz√°m hi√°nyzik? 3, 6, 12, 24, ...", o: ["36", "48", "42", "60"], a: 1 },
      { q: "Ha k√©t macska k√©t egeret k√©t perc alatt fog meg, h√°ny macska fog meg t√≠z egeret t√≠z perc alatt?", o: ["10", "5", "2", "20"], a: 2 },
      { q: "Melyik nem illik a sorba?", o: ["Monitor", "Billenty≈±zet", "Eg√©r", "Keny√©rpir√≠t√≥"], a: 3 }
    ],
    "‚ûï Matek": [
      { q: "Mennyi 12 x 5?", o: ["50", "60", "70", "55"], a: 1 },
      { q: "Mennyi 144 gy√∂ke?", o: ["12", "14", "11", "13"], a: 0 },
      { q: "Mennyi 2 a tizediken (2¬π‚Å∞)?", o: ["512", "1000", "1024", "2048"], a: 2 }
    ],
    "üíª Inf√≥": [
      { q: "Mit jelent a CPU?", o: ["Central Processing Unit", "Computer Power", "Core Processor", "Control Unit"], a: 0 },
      { q: "Melyik egy programoz√°si nyelv?", o: ["HTML", "JSON", "Python", "HTTP"], a: 2 },
      { q: "H√°ny bites 1 byte?", o: ["4", "8", "16", "32"], a: 1 }
    ],
    "‚öôÔ∏è G√©p√©sz": [
      { q: "Melyik az er≈ësebb anyag?", o: ["R√©z", "Ac√©l", "Alum√≠nium", "√ìlom"], a: 1 },
      { q: "Mi cs√∂kkenti a s√∫rl√≥d√°st?", o: ["Homok", "V√≠z", "Ken≈ëolaj", "Leveg≈ë"], a: 2 },
      { q: "Melyik m√©r≈ëeszk√∂z a pontosabb?", o: ["Vonalz√≥", "Tol√≥m√©r≈ë", "M√©r≈ëszalag", "Szemm√©rt√©k"], a: 1 }
    ],
    "üòÑ Fun": [
      { q: "Ki a m√©rn√∂k√∂k legjobb bar√°tja?", o: ["A k√°v√©", "A h√©tf≈ë", "A vizsgadrukk", "A s√∂t√©ts√©g"], a: 0 },
      { q: "H√°ny √≥ra alv√°s kell egy m√©rn√∂khallgat√≥nak?", o: ["8 √≥ra", "12 √≥ra", "Amennyi marad", "0 √≥ra"], a: 2 },
      { q: "Mit csin√°l a g√©p√©sz, ha elromlik valami?", o: ["S√≠r", "Megr√∫gja", "Sz√©tszedi", "K√©ri anyuk√°j√°t"], a: 2 }
    ],
    "üî• Extra": [
      { q: "Mennyi 2¬≥ + 3¬≤?", o: ["12", "15", "17", "21"], a: 2 },
      { q: "Melyik pr√≠msz√°m?", o: ["21", "27", "29", "33"], a: 2 },
      { q: "Mi a p√≠ (œÄ) kerek√≠tett √©rt√©ke?", o: ["3,12", "3,14", "3,16", "3,18"], a: 1 }
    ],
    "‚ö° Vill√°m": [
      { q: "Mi a v√≠z vegyjele?", o: ["HO2", "H2O", "O2", "H2"], a: 1 },
      { q: "Melyik √©vszakban van a Ny√≠lt Nap?", o: ["Tavasz", "Ny√°r", "≈êsz", "T√©l"], a: 3 },
      { q: "Ki alap√≠totta a G√âIK-et? (Egyetem v√°rosa?)", o: ["Debrecen", "Miskolc", "Gy≈ër", "P√©cs"], a: 1 }
    ],
    "üõ†Ô∏è Technika": [
      { q: "Mivel m√©rj√ºk az √°ramer≈ëss√©get?", o: ["Volt", "Amper", "Ohm", "Watt"], a: 1 },
      { q: "Mi az USB teljes neve?", o: ["Universal Serial Bus", "Unit Star Board", "User Serial Blue", "Unit Serial Base"], a: 0 },
      { q: "H√°ny ker√©k van egy aut√≥n alapb√≥l?", o: ["3", "4", "5 (p√≥tker√©kkel)", "6"], a: 1 }
    ]
  };

  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinBtn = document.getElementById("spin-btn");
  const center = 200;
  const radius = 185;
  let angle = 0;
  let spinning = false;

  let currentStep = 0;
  let currentCategory = "";

  function draw() {
    const slice = (Math.PI * 2) / options.length;
    ctx.clearRect(0, 0, 400, 400);

    options.forEach((text, i) => {
      ctx.beginPath();
      ctx.moveTo(center, center);
      ctx.arc(center, center, radius, angle + i * slice, angle + (i + 1) * slice);
      ctx.fillStyle = i % 2 === 0 ? "#38bdf8" : "#fbbf24";
      ctx.fill();
      ctx.strokeStyle = "#1e293b";
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.save();
      ctx.translate(center, center);
      ctx.rotate(angle + i * slice + slice / 2);
      ctx.textAlign = "right";
      ctx.fillStyle = "#000";
      ctx.font = "bold 13px Arial";
      ctx.fillText(text, radius - 10, 5);
      ctx.restore();
    });

    // Fix Ny√≠l
    ctx.fillStyle = "#ef4444";
    ctx.beginPath();
    ctx.moveTo(center - 15, 5); ctx.lineTo(center + 15, 5); ctx.lineTo(center, 35);
    ctx.fill();
  }

  function spin() {
    if (spinning) return;
    spinning = true;
    spinBtn.disabled = true;
    document.getElementById("status").innerText = "P√∂rg√©s...";
    let speed = Math.random() * 0.35 + 0.3;
    
    function anim() {
      angle += speed;
      speed *= 0.982;
      draw();
      if (speed > 0.002) requestAnimationFrame(anim);
      else {
        spinning = false;
        finishSpin();
      }
    }
    anim();
  }

  function finishSpin() {
    const slice = (Math.PI * 2) / options.length;
    const normAngle = (1.5 * Math.PI - angle) % (Math.PI * 2);
    const idx = Math.floor((normAngle < 0 ? normAngle + Math.PI * 2 : normAngle) / slice);
    currentCategory = options[idx];
    currentStep = 0;
    
    document.getElementById("status").innerText = "Kateg√≥ria: " + currentCategory;
    setTimeout(() => showQuestion(), 600);
  }

  function showQuestion() {
    const overlay = document.getElementById("modal-overlay");
    const catText = document.getElementById("m-cat");
    const qText = document.getElementById("m-quest");
    const progressText = document.getElementById("progress");
    const container = document.getElementById("m-opts");

    const qData = questions[currentCategory][currentStep];
    
    catText.innerText = currentCategory;
    progressText.innerText = "K√©rd√©s: " + (currentStep + 1) + " / 3";
    qText.innerText = qData.q;
    container.innerHTML = "";

    qData.o.forEach((opt, i) => {
      const b = document.createElement("button");
      b.className = "option-btn";
      b.innerText = opt;
      b.onclick = () => checkAnswer(i, qData.a);
      container.appendChild(b);
    });

    overlay.style.display = "flex";
  }

  function checkAnswer(selected, correct) {
    if (selected === correct) {
      currentStep++;
      if (currentStep < 3) {
        showQuestion();
      } else {
        showPrizePicker();
      }
    } else {
      document.getElementById("modal-overlay").style.display = "none";
      alert("‚ùå Sajnos t√©vesztett√©l! Most nem siker√ºlt a 3/3, de pr√≥b√°ld √∫jra k√©s≈ëbb!");
      spinBtn.disabled = false;
    }
  }

  function showPrizePicker() {
    const qText = document.getElementById("m-quest");
    const container = document.getElementById("m-opts");
    const progressText = document.getElementById("progress");

    progressText.innerText = "üéØ GRATUL√ÅLUNK! 3 / 3 HELYES!";
    qText.innerText = "Sikeresen teljes√≠tetted a kih√≠v√°st! V√°laszd ki a nyerem√©nyed:";
    container.innerHTML = "";

    prizes.forEach(prize => {
      const b = document.createElement("button");
      b.className = "prize-btn";
      b.innerText = prize;
      b.onclick = () => {
        alert("üéâ Gratul√°lunk! A nyerem√©nyed: " + prize + ".\nKeresd a G√âIK standn√°l!");
        document.getElementById("modal-overlay").style.display = "none";
        spinBtn.disabled = false;
        document.getElementById("status").innerText = "";
      };
      container.appendChild(b);
    });
  }

  // Inicializ√°l√°s
  draw();
</script>
</body>
</html>
