<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G√âIK Ny√≠lt Nap - Kih√≠v√°s</title>
  <style>
    body { font-family: sans-serif; background: #0f172a; color: white; text-align: center; margin: 0; padding: 10px; -webkit-tap-highlight-color: transparent; }
    .container { max-width: 450px; margin: 0 auto; }
    canvas { background: white; border-radius: 50%; margin: 20px 0; max-width: 100%; height: auto; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
    
    button#spin-btn { background: #22c55e; border: none; padding: 15px 30px; font-size: 18px; font-weight: bold; border-radius: 30px; color: white; cursor: pointer; }
    button#spin-btn:disabled { background: #475569; opacity: 0.7; }
    
    #modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1000; flex-direction: column; justify-content: center; align-items: center; }
    #question-card { background: #1e293b; padding: 25px; border-radius: 15px; border: 2px solid #38bdf8; width: 85%; max-width: 350px; }
    
    .options-grid { display: grid; gap: 10px; margin-top: 15px; }
    
    /* ALAP GOMB ST√çLUS */
    .option-btn { 
      background: #334155; 
      border: 1px solid #475569; 
      color: white; 
      padding: 12px; 
      border-radius: 8px; 
      font-size: 15px; 
      cursor: pointer; 
      outline: none;
      -webkit-appearance: none;
    }

    /* CSAK ASZTALI G√âPEN, HA AZ EG√âR FEL√â √âR */
    @media (hover: hover) {
      .option-btn:hover { background: #38bdf8; color: #000; }
    }

    /* MOBILON √âS ASZTALIN IS: CSAK AM√çG NYOMVA TARTOD */
    .option-btn:active { 
      background: #38bdf8 !important; 
      color: #000 !important; 
    }

    .progress { color: #fbbf24; font-weight: bold; margin-bottom: 10px; font-size: 1.1rem; }
  </style>
</head>
<body>

  <div class="container">
    <h2 style="margin-top:10px;">üéì G√âIK Kih√≠v√°s</h2>
    <p>3 v√©letlen k√©rd√©s a gy≈ëzelem√©rt!</p>
    <canvas id="wheel" width="400" height="400"></canvas>
    <div><button id="spin-btn" onclick="spin()">üé° P√ñRGET√âS</button></div>
    <p id="status" style="color:#38bdf8; font-weight:bold; height: 20px;"></p>
  </div>

  <div id="modal-overlay">
    <div id="question-card">
      <div id="progress" class="progress"></div>
      <p id="m-quest" style="font-size: 18px; font-weight: bold; min-height: 50px;"></p>
      <div class="options-grid" id="m-opts"></div>
    </div>
  </div>

<script>
  // K√©rd√©sbank marad a 8x10-es verzi√≥
  const questions = {
    "Logika": [
      { q: "Melyik sz√°m j√∂n: 2, 4, 8, 16... ?", o: ["24", "30", "32", "64"], a: 2 },
      { q: "Melyik nem illik a sorba?", o: ["Eg√©r", "Monitor", "Keny√©rpir√≠t√≥", "RAM"], a: 2 },
      { q: "H√°ny oldala van egy kock√°nak?", o: ["4", "6", "8", "12"], a: 1 },
      { q: "17 birka van, 9 kiv√©tel√©vel mind elpusztul. H√°ny marad?", o: ["8", "9", "17", "0"], a: 1 },
      { q: "Melyik h√≥napban van 28 nap?", o: ["Csak febru√°r", "Mindegyikben", "Sz√∂k≈ë√©vben", "Egyikben sem"], a: 1 },
      { q: "4 l√°nynak van 1-1 b√°tyja. H√°nyan vannak a gyerekek?", o: ["5", "8", "4", "9"], a: 0 },
      { q: "Melyik nehezebb: 1kg toll vagy 1kg vas?", o: ["A vas", "A toll", "Egyform√°k", "A vas s≈±r≈±bb"], a: 2 },
      { q: "Mib≈ël van az √ºvegh√°z?", o: ["√úvegb≈ël", "T√©gl√°b√≥l", "M≈±anyagb√≥l", "F√°b√≥l"], a: 0 },
      { q: "Melyik sz√°m nem v√°ltoztat a szorzaton?", o: ["1", "0", "10", "2"], a: 0 },
      { q: "H√°ny bet≈± van az ABC-ben?", o: ["44", "3", "26", "32"], a: 1 }
    ],
    "Matek": [
      { q: "Mennyi 15 x 4?", o: ["50", "60", "70", "45"], a: 1 },
      { q: "Mennyi 144 gy√∂ke?", o: ["12", "14", "11", "10"], a: 0 },
      { q: "Mennyi 2^10?", o: ["512", "1000", "1024", "2048"], a: 2 },
      { q: "Mennyi sin(90¬∞)?", o: ["0", "0,5", "1", "-1"], a: 2 },
      { q: "H√°romsz√∂g bels≈ë sz√∂geinek √∂sszege?", o: ["90¬∞", "180¬∞", "360¬∞", "270¬∞"], a: 1 },
      { q: "Mi a 25% t√∂rt alakban?", o: ["1/2", "1/5", "1/4", "1/3"], a: 2 },
      { q: "Mennyi 7x8?", o: ["54", "56", "62", "64"], a: 1 },
      { q: "K√∂r ker√ºlet√©nek k√©plete?", o: ["r^2*pi", "2*r*pi", "d*r", "2*r^2"], a: 1 },
      { q: "Mennyi 0! (faktori√°lis)?", o: ["0", "V√©gtelen", "1", "-1"], a: 2 },
      { q: "H√°ny √©le van egy t√©glatestnek?", o: ["6", "8", "10", "12"], a: 3 }
    ],
    "Inf√≥": [
      { q: "Mit jelent a CPU?", o: ["Processzor", "Mem√≥ria", "Monitor", "T√°p"], a: 0 },
      { q: "Melyik programnyelv?", o: ["HTML", "Python", "JPG", "MP3"], a: 1 },
      { q: "H√°ny bit 1 byte?", o: ["4", "8", "16", "32"], a: 1 },
      { q: "Oper√°ci√≥s rendszer feladata?", o: ["J√°t√©k", "Hardverkezel√©s", "Web", "Zene"], a: 1 },
      { q: "Felh≈ë alap√∫ t√°rhely?", o: ["Google Drive", "Photoshop", "Excel", "Spotify"], a: 0 },
      { q: "Mi a RAM?", o: ["Read Access", "Random Access", "Real Action", "Rapid Area"], a: 1 },
      { q: "Melyik a M√ÅSOL√ÅS?", o: ["Ctrl+X", "Ctrl+V", "Ctrl+C", "Ctrl+Z"], a: 2 },
      { q: "Legkisebb adategys√©g?", o: ["Byte", "Bit", "Kilobyte", "Pixel"], a: 1 },
      { q: "Ki k√©sz√≠ti a Windows-t?", o: ["Apple", "Google", "Microsoft", "Linux"], a: 2 },
      { q: "Mi az URL?", o: ["E-mail", "Webc√≠m", "Processzor", "Adatb√°zis"], a: 1 }
    ],
    "G√©p√©sz": [
      { q: "Melyik f√©m?", o: ["Fa", "M≈±anyag", "Ac√©l", "√úveg"], a: 2 },
      { q: "Mi cs√∂kkenti a s√∫rl√≥d√°st?", o: ["V√≠z", "Ken≈ëolaj", "Por", "Gumi"], a: 1 },
      { q: "Mivel m√©r√ºnk pontosabban?", o: ["Tol√≥m√©r≈ë", "Vonalz√≥", "M√©r≈ëszalag", "Szem"], a: 0 },
      { q: "S≈±r≈±s√©g m√©rt√©kegys√©ge?", o: ["kg/m3", "m/s2", "Newton", "Pascal"], a: 0 },
      { q: "Forg√≥mozg√°st tov√°bb√≠t:", o: ["Dugatty√∫", "Tengely", "Rug√≥", "Al√°t√©t"], a: 1 },
      { q: "Mi a korr√≥zi√≥?", o: ["Kem√©nyed√©s", "Rozsd√°sod√°s", "Olvad√°s", "P√°rolg√°s"], a: 1 },
      { q: "Ac√©l kem√©ny√≠t√©se:", o: ["Hegeszt√©s", "Edz√©s", "Forg√°csol√°s", "√ñnt√©s"], a: 1 },
      { q: "Lendker√©k c√©lja:", o: ["H≈±t√©s", "Egyenletes j√°r√°s", "F√©kez√©s", "Ken√©s"], a: 1 },
      { q: "Legjobb h≈ëvezet≈ë:", o: ["R√©z", "Fa", "M≈±anyag", "√úveg"], a: 0 },
      { q: "Bels≈ë √©g√©s≈± motor √ºtemei:", o: ["Csak 4", "Csak 2", "2 vagy 4", "B√°rmennyi"], a: 2 }
    ],
    "Fun": [
      { q: "Mi kell a vizsg√°hoz legink√°bb?", o: ["Szerencse", "K√°v√©", "Tud√°s", "Mindh√°rom"], a: 3 },
      { q: "Hol tal√°lhat√≥ a G√âIK?", o: ["Budapest", "Miskolc", "Debrecen", "Gy≈ër"], a: 1 },
      { q: "Ki a m√©rn√∂khallgat√≥ bar√°tja?", o: ["A h√©tf≈ë", "K√°v√©automata", "ZH-drukk", "√úres h≈±t≈ë"], a: 1 },
      { q: "M√©rn√∂k√∂k nem hivatalos √©tele:", o: ["Pizza", "Instant t√©szta", "Zs√≠roskeny√©r", "Sal√°ta"], a: 1 },
      { q: "Legakt√≠vabb egyetemista:", o: ["H√©tf≈ë reggel", "Vizsga el≈ëtt 1√≥", "Szombaton", "Augusztusban"], a: 1 },
      { q: "H√°ny k√°v√©t√≥l l√°tszik a m√°trix?", o: ["1", "3", "Az 5. ut√°n", "Csak energiaital"], a: 2 },
      { q: "Ha nem indul a k√≥d:", o: ["S√≠rni", "√öjraind√≠tani", "Megr√∫gni", "ChatGPT"], a: 1 },
      { q: "Legnehezebb nap:", o: ["H√©tf≈ë", "Kedd", "Amikor ZH van", "P√©ntek"], a: 2 },
      { q: "Alv√°sid≈ë vizsgaid≈ëszakban:", o: ["8√≥", "10√≥", "4√≥", "Nem alszik"], a: 3 },
      { q: "Menz√°n legfontosabb:", o: ["Villa", "Kan√°l", "T√ºrelem", "Di√°kigazolv√°ny"], a: 3 }
    ],
    "Extra": [
      { q: "Mennyi 2^3 + 3^2?", o: ["12", "17", "15", "18"], a: 1 },
      { q: "Mi a pi kerek√≠tett √©rt√©ke?", o: ["3,12", "3,14", "3,16", "3,10"], a: 1 },
      { q: "Pr√≠msz√°m-e a 29?", o: ["Igen", "Nem", "Csak kedden", "Nem tudom"], a: 0 },
      { q: "Elektromoss√°g √∫tt√∂r≈ëje:", o: ["Tesla", "Newton", "Einstein", "Darwin"], a: 0 },
      { q: "F√©nysebess√©g kerek√≠tve:", o: ["300e km/s", "150e km/s", "1m km/s", "500 km/h"], a: 0 },
      { q: "H√°ny bolyg√≥ van?", o: ["7", "8", "9", "10"], a: 1 },
      { q: "Gravit√°ci√≥ felfedez≈ëje:", o: ["Tesla", "Galilei", "Newton", "Copernicus"], a: 2 },
      { q: "Au vegyjele:", o: ["Ez√ºst", "Arany", "Alum√≠nium", "R√©z"], a: 1 },
      { q: "V√≠z forr√°spontja:", o: ["90¬∞C", "100¬∞C", "110¬∞C", "120¬∞C"], a: 1 },
      { q: "Abszol√∫t nulla fok (Celsius):", o: ["0¬∞C", "-100¬∞C", "-273¬∞C", "-500¬∞C"], a: 2 }
    ],
    "Vill√°m": [
      { q: "V√≠z vegyjele:", o: ["HO2", "H2O", "O2", "H2"], a: 1 },
      { q: "Miskolci Egyetem sz√≠ne?", o: ["Z√∂ld", "Piros", "K√©k-feh√©r", "S√°rga"], a: 2 },
      { q: "Melyik √©vben j√°runk?", o: ["2024", "2025", "2026", "2023"], a: 2 },
      { q: "Ki a kar d√©k√°nja?", o: ["Dr. Sim√©nfalvi Z.", "Steve Jobs", "Bill Gates", "Elon Musk"], a: 0 },
      { q: "Napok egy √°tlagos √©vben?", o: ["364", "365", "366", "360"], a: 1 },
      { q: "Kabala√°llat:", o: ["Maci", "Selmeci Di√°k", "R√≥ka", "Bagoly"], a: 1 },
      { q: "V√°ros:", o: ["Miskolc", "Tapolca", "Di√≥sgy≈ër", "Lillaf√ºred"], a: 0 },
      { q: "G√âIK r√∂vid√≠t√©s v√©ge:", o: ["Informatikai Kar", "Ipari Kar", "Int√©zet", "Innov√°ci√≥"], a: 0 },
      { q: "H√°ny kar van az ME-n?", o: ["4", "6", "8", "10"], a: 2 },
      { q: "Melyik ker√ºlet?", o: ["Tapolca mellett", "Belv√°ros", "Avas", "Egyetemv√°ros"], a: 3 }
    ],
    "Technika": [
      { q: "Amper m√©r√©se:", o: ["Voltm√©r≈ë", "Amperm√©r≈ë", "H≈ëm√©r≈ë", "M√©rleg"], a: 1 },
      { q: "Mi az USB?", o: ["Universal Bus", "Unit Base", "Ultra Speed", "User Board"], a: 0 },
      { q: "H√°ny ker√©k van egy aut√≥n?", o: ["2", "3", "4", "5"], a: 2 },
      { q: "Adatot t√°rol:", o: ["SSD", "Eg√©r", "Monitor", "Hangsz√≥r√≥"], a: 0 },
      { q: "Wi-Fi feladata:", o: ["Adat√°tvitel", "Nyomtat√°s", "K√©p", "T√∂lt√©s"], a: 0 },
      { q: "G√©p 'agya':", o: ["Processzor", "HDD", "Vide√≥k√°rtya", "T√°p"], a: 0 },
      { q: "Robotika c√©lja:", o: ["Robotok", "Kert√©szet", "F≈ëz√©s", "Sport"], a: 0 },
      { q: "3D nyomtat√°s:", o: ["T√°rgyalkot√°s", "Pap√≠rnyom√°s", "M√°sol√°s", "Fot√≥"], a: 0 },
      { q: "H√°l√≥zati fesz√ºlts√©g:", o: ["110V", "230V", "400V", "12V"], a: 1 },
      { q: "Digit√°lis jel -> K√©p:", o: ["Monitor", "Billenty≈±", "Scanner", "Router"], a: 0 }
    ]
  };

  const options = ["Logika", "Matek", "Inf√≥", "G√©p√©sz", "Fun", "Extra", "Vill√°m", "Technika"];
  const allPrizes = ["Leh√∫z√≥", "Notesz", "S√∂rbont√≥", "Toll", "Es≈ëkab√°t", "Sz√∂vegkiemel≈ë", "Tornazs√°k"];
  const midPrizes = ["Leh√∫z√≥", "Notesz", "S√∂rbont√≥", "Es≈ëkab√°t", "Sz√∂vegkiemel≈ë"];
  const basicPrizes = ["Toll", "Post-it"];

  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinBtn = document.getElementById("spin-btn");
  let angle = 0;
  let spinning = false;
  let currentStep = 0;
  let correctCount = 0;
  let currentCat = "";
  let sessionQuestions = [];

  function draw() {
    const slice = (Math.PI * 2) / options.length;
    ctx.clearRect(0, 0, 400, 400);
    options.forEach((text, i) => {
      ctx.beginPath();
      ctx.moveTo(200, 200);
      ctx.arc(200, 200, 190, angle + i * slice, angle + (i + 1) * slice);
      ctx.fillStyle = i % 2 === 0 ? "#38bdf8" : "#fbbf24";
      ctx.fill();
      ctx.stroke();
      ctx.save();
      ctx.translate(200, 200);
      ctx.rotate(angle + i * slice + slice / 2);
      ctx.fillStyle = "#000";
      ctx.font = "bold 14px Arial";
      ctx.fillText(text, 100, 5);
      ctx.restore();
    });
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.moveTo(185, 10); ctx.lineTo(215, 10); ctx.lineTo(200, 40);
    ctx.fill();
  }

  function spin() {
    if (spinning) return;
    spinning = true;
    spinBtn.disabled = true;
    correctCount = 0;
    currentStep = 0;
    document.getElementById("status").innerText = "P√∂rg√©s...";
    let speed = Math.random() * 0.3 + 0.35;
    function anim() {
      angle += speed;
      speed *= 0.985;
      draw();
      if (speed > 0.002) requestAnimationFrame(anim);
      else {
        spinning = false;
        setTimeout(startChallenge, 500);
      }
    }
    anim();
  }

  function startChallenge() {
    const slice = (Math.PI * 2) / options.length;
    const norm = (1.5 * Math.PI - angle) % (Math.PI * 2);
    const idx = Math.floor((norm < 0 ? norm + Math.PI * 2 : norm) / slice);
    currentCat = options[idx];
    
    // V√©letlen 3 k√©rd√©s kiv√°laszt√°sa
    const allInCat = [...questions[currentCat]];
    sessionQuestions = allInCat.sort(() => Math.random() - 0.5).slice(0, 3);
    
    document.getElementById("status").innerText = "Kateg√≥ria: " + currentCat;
    document.getElementById("modal-overlay").style.display = "flex";
    showQuestion();
  }

  function showQuestion() {
    const qData = sessionQuestions[currentStep];
    const container = document.getElementById("m-opts");
    
    // Tartalom t√∂rl√©se az √∫j k√©rd√©s el≈ëtt
    container.innerHTML = "";
    document.getElementById("progress").innerText = "K√©rd√©s: " + (currentStep + 1) + " / 3 (" + correctCount + " j√≥)";
    document.getElementById("m-quest").innerText = qData.q;
    
    qData.o.forEach((opt, i) => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.innerText = opt;
      btn.onclick = (e) => {
        // Blur h√≠v√°sa, hogy mobilon ne maradjon "f√≥kuszban" (k√©k) a gomb
        e.target.blur();
        
        if (i === qData.a) correctCount++;
        currentStep++;
        
        // Egy minim√°lis k√©sleltet√©s, hogy a user l√°ssa a kattint√°st, de a gomb ne ragadjon be
        setTimeout(() => {
          if (currentStep < 3) showQuestion();
          else evaluateResult();
        }, 100);
      };
      container.appendChild(btn);
    });
  }

  function evaluateResult() {
    const container = document.getElementById("m-opts");
    const qText = document.getElementById("m-quest");
    const progText = document.getElementById("progress");
    container.innerHTML = "";
    progText.innerText = "V√©geredm√©ny: 3 / " + correctCount + " helyes";

    if (correctCount === 3) {
      qText.innerText = "T√∂k√©letes! V√°lassz b√°rmit:";
      allPrizes.forEach(p => createPrizeBtn(p, container));
    } 
    else if (correctCount === 2) {
      const randomPrize = midPrizes[Math.floor(Math.random() * midPrizes.length)];
      qText.innerText = "Sz√©p munka! A v√©letlen nyerem√©nyed:";
      createPrizeBtn(randomPrize, container, true);
    } 
    else if (correctCount === 1) {
      qText.innerText = "V√°lassz a vigaszd√≠jak k√∂z√ºl:";
      basicPrizes.forEach(p => createPrizeBtn(p, container));
    } 
    else {
      qText.innerText = "Sajnos nem siker√ºlt j√≥ v√°laszt adnod.";
      createPrizeBtn("Vissza a p√∂rget√©shez", container, false, true);
    }
  }

  function createPrizeBtn(prize, container, isFinal = false, isReset = false) {
    const btn = document.createElement("button");
    btn.className = "option-btn";
    if (!isReset) btn.style.background = "#22c55e";
    btn.innerText = prize;
    btn.onclick = (e) => {
      e.target.blur();
      if (!isReset) alert("Gratul√°lunk! Nyerem√©nyed: " + prize);
      document.getElementById("modal-overlay").style.display = "none";
      spinBtn.disabled = false;
      document.getElementById("status").innerText = "";
    };
    container.appendChild(btn);
  }

  window.onload = draw;
</script>
</body>
</html>
